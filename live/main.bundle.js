!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}({0:function(e,t,n){e.exports=n(7)},1:function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},2:function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(this,n(1))},3:function(e,t,n){"use strict";n.r(t);const r=["ace","two","three","four","five","six","seven","eight","nine","ten","jack","queen","king"],o=["spades","clubs","hearts","diamonds"];const a=function(){const e={one_suit:{},cardValues:{}};return r.forEach((t,n)=>{++n,e.one_suit[t]=n>9?10:n,e.cardValues[t]=n}),e}(),{one_suit:i,cardValues:s}=a;function l(e){return{left:(e=e.getBoundingClientRect()).left+window.scrollX,top:e.top+window.scrollY}}function c(e){if(null===e||"object"!=typeof e)return e;if(Array.isArray(e))return e.slice(0);{let n={};for(var t in e)e.hasOwnProperty(t)&&(n[t]=c(e[t]));return n}}var d=n(2),u="object"==typeof self&&self&&self.Object===Object&&self,h=(d.a||u||Function("return this")()).Symbol,f=Object.prototype,p=f.hasOwnProperty,g=f.toString,v=h?h.toStringTag:void 0;var m=function(e){var t=p.call(e,v),n=e[v];try{e[v]=void 0;var r=!0}catch(e){}var o=g.call(e);return r&&(t?e[v]=n:delete e[v]),o},y=Object.prototype.toString;var b=function(e){return y.call(e)},D="[object Null]",O="[object Undefined]",E=h?h.toStringTag:void 0;var w=function(e){return null==e?void 0===e?O:D:E&&E in Object(e)?m(e):b(e)};var _=function(e,t){return function(n){return e(t(n))}}(Object.getPrototypeOf,Object);var T=function(e){return null!=e&&"object"==typeof e},S="[object Object]",k=Function.prototype,C=Object.prototype,M=k.toString,A=C.hasOwnProperty,L=M.call(Object);var I=function(e){if(!T(e)||w(e)!=S)return!1;var t=_(e);if(null===t)return!0;var n=A.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&M.call(n)==L},x=n(0),j=n.n(x),P={INIT:"@@redux/INIT"};function R(e,t,n){var r;if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(R)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var o=e,a=t,i=[],s=i,l=!1;function c(){s===i&&(s=i.slice())}function d(){return a}function u(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return c(),s.push(e),function(){if(t){t=!1,c();var n=s.indexOf(e);s.splice(n,1)}}}function h(e){if(!I(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(l)throw new Error("Reducers may not dispatch actions.");try{l=!0,a=o(a,e)}finally{l=!1}for(var t=i=s,n=0;n<t.length;n++){(0,t[n])()}return e}return h({type:P.INIT}),(r={dispatch:h,subscribe:u,getState:d,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");o=e,h({type:P.INIT})}})[j.a]=function(){var e,t=u;return(e={subscribe:function(e){if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(d())}return n(),{unsubscribe:t(n)}}})[j.a]=function(){return this},e},r}function B(e,t){var n=t&&t.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}Object.assign;const N={delt:!1,cardsFlipped:!1,reshuffled:!1,index:0,deck:!1,playerDiscard:!1,joshuaDiscard:!1,noOfCardsDiscarded:0,playerKnock:!1};const F={current:0,all:[],firstPlayerValue:0,firstPlayerObj:{},joshuaValue:0,joshuaFinalObj:{}};var H=function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var o=t[r];"function"==typeof e[o]&&(n[o]=e[o])}var a=Object.keys(n),i=void 0;try{!function(e){Object.keys(e).forEach(function(t){var n=e[t];if(void 0===n(void 0,{type:P.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+P.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}(n)}catch(e){i=e}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(i)throw i;for(var r=!1,o={},s=0;s<a.length;s++){var l=a[s],c=n[l],d=e[l],u=c(d,t);if(void 0===u){var h=B(l,t);throw new Error(h)}o[l]=u,r=r||u!==d}return r?o:e}}({score:function(e=F,t){switch(t.type){case"UPDATE_CURRENT_SCORE":return Object.assign({},e,{current:e.current+t.current});case"CLEAR_CURRENT_SCORE":return Object.assign({},e,{current:0});case"FIRST_PLAYER_FINAL_VALUE":return Object.assign({},e,{firstPlayerValue:t.value});case"JOSHUA_FINAL_VALUE":return Object.assign({},e,{joshuaValue:t.value});case"STORE_FINAL_JOSHUA_OBJECT":return Object.assign({},e,{joshuaFinalObj:t.value});case"STORE_FINAL_FIRST_PLAYER_OBJECT":return Object.assign({},e,{firstPlayerObj:t.value});default:return e}},game:function(e=N,t){switch(t.type){case"CARDS_DELT":return Object.assign({},e,{delt:!0});case"FLIP_NEW_DECK":return Object.assign({},e,{cardsFlipped:!0});case"RESHUFFLE":return Object.assign({},e,{reshuffled:!0,index:e.index++});case"DECK_CREATED":return Object.assign({},e,{deck:!0});case"DISCARD_CARD":return Object.assign({},e,{playerDiscard:!e.playerDiscard,noOfCardsDiscarded:++e.noOfCardsDiscarded});case"JOSHUA_DISCARD_CARD":return Object.assign({},e,{joshuaDiscard:!e.joshuaDiscard,playerDiscard:"endOfGame"!==t.value&&!e.playerDiscard,noOfCardsDiscarded:++e.noOfCardsDiscarded});case"PLAYER_KNOCK":return Object.assign({},e,{playerKnock:!e.playerKnock});default:return e}}});function Y(e){return{type:"FIRST_PLAYER_FINAL_VALUE",value:e}}function q(e){return{type:"JOSHUA_FINAL_VALUE",value:e}}function J(e){var t={},n={},r={},o=[];return Object.keys(e).forEach(function(a){t[a]=t[a]||[],r[a]=r[a]||[],n[a]=n[a]||[],e[a].length&&(1==e[a].length&&r[a].push(e[a][0]),e[a].reduce(function(e,n,o,i){return n-e==1||n+1==i[o+1]?i[0]+1==i[1]&&i[0]==e?t[a].push(e,n):(i[0]+1!=i[1]&&1==o&&r[a].push(i[0]),t[a].push(n)):1==o?r[a].push(e,n):r[a].push(n),i[o]})),t[a].forEach(function(e,t,n){e-1===n[t-1]&&e+1==n[t+1]&&function(e,t,n){var r=!1,a=!1,i=!1;o.forEach(function(o){o==e&&(r=!0),o==t&&(a=!0),o==n&&(i=!0)}),r||o.push(e),a||o.push(t),i||o.push(n)}(e-1,e,e+1)}),n[a]=function(e,t){var n=[];return e.forEach(function(e){-1==t.indexOf(e)&&n.push(e)}),n}(t[a],o),t[a]=o,o=[]}),{keepTheseOnes:t,maybes:n,possibleDiscard:r}}function U(e,t){const n=c(e);var r=o,a=[],i=[],s=!1,l=Object.keys(n);if(i.multiple=!1,l.forEach(function(e,t,o){"keepTheseOnes"===e?r.forEach(function(t,r,o){var a,s,l;n[e][t].length>=3&&(n[e][t][n[e][t].length-1]-n[e][t][0]!=n[e][t].length-1?function(e,t){if(e.length>7)return!1;e.some(function(e,n,r){if(e+1!==r[n+1])return i.push(r[0],e,r[n+1],r[r.length-1]),i.multiple=t||!1,i})}(n[e][t],t):(a=n[e][t][0],s=n[e][t][n[e][t].length-1],3===n[e][t].length?(l=n[e][t][1],i.push(a,l,s)):i.push(a,s)))}):r.forEach(function(t,r,o){n[e][t].forEach(function(e,t,n){a.push(e)})})}),a.sort(function(e,t){return e-t}),n.oneMatch=[],n.moreThanOneMatch=[],function(e){for(var t={},r=!1,o=0;o<e.length;o++){var a=e[o];t[a]=t[a]?t[a]+1:1}for(var i in t)1==t[i]&&delete t[i],2==t[i]&&(n.oneMatch.push(parseInt(i)),r=!0),t[i]>2&&(n.moreThanOneMatch.push(parseInt(i)),r=!0);return r}(a)){var d=function(){var e=0,r=[],o=!1,a=function(e){if(e===i[0]&&"firstPlayerKnock"!==t)return i[0];if(e===i[1])return i[1];if(i.length>2){if(e===i[2])return i[2];if(e===i[3])return i[3]}};if(i.length>5)return!1;for(;e<n.oneMatch.length;){var l=a(n.oneMatch[e]);l&&(n.moreThanOneMatch.push(l),n.moreThanOneMatch.sort(function(e,t){return e-t}),o=!0,r.push(l)),e++}if(o)return function(e){if(console.log(e),!i.multiple)return!1;e.forEach(function(e,t,r){n.keepTheseOnes[i.multiple].forEach(function(t,r,o){e===t&&function(e,t){var r,o=t.indexOf(e),a=i.indexOf(e),l=!1;console.log(a);var c=function(e,t){if(1&e){if("getValue"!==t)return"odd";r=i[a]-i[a-1],l=!0}else{if("getValue"!==t)return"even";r=i[a+1]-i[a],!0}return c},d=c(a,"getValue")(r,"getOddOrEven");if(console.log(d),"odd"===d)return!1;l?(t.splice(o-2,2),n.possibleDiscard[i.multiple].push(e-1,e-2)):(t.splice(o+1,2),n.possibleDiscard[i.multiple].push(e+1,e+2));s=!0}(e,o)})})}(r)||function(e){e.forEach(function(e){n.oneMatch.forEach(function(t,r,o){console.log(t),e===t&&n.oneMatch.splice(r,1)})})}(i),r}();return function(e,t){var r,o=e.concat(t);function a(e,t,r){for(var i in n[t])for(var s=0;s<n[t][i].length;s++)o[e]==n[t][i][s]&&("keepTheseOnes"===t&&r?r.forEach(function(r){r===o[e]&&n[t][i].splice(s,1)}):n[t][i].splice(s,1));return e<o.length&&a(++e,t),t}"possibleDiscard"==a(0,"possibleDiscard")&&(r=a(0,"maybes"));"maybes"==r&&arguments[2]&&a(0,"keepTheseOnes",arguments[2])}(n.oneMatch,n.moreThanOneMatch,d),function(){var e=[];r.forEach(function(t,r,o){n.keepTheseOnes[t].forEach(function(r,o,a){a.length<3&&(0===o&&e.push(t),n.possibleDiscard[t].push(r),n.possibleDiscard[t].sort(function(e,t){return e-t}))})}),e.forEach(function(e,t,r){n.keepTheseOnes[e]=[]})}(),s&&n.possibleDiscard[i.multiple].sort(function(e,t){return e-t}),n}return n}function W(e,t){let n=c(t);if("string"==typeof e){var r=function(e,t){var n=o,r=[],a=[],i=function(e){for(var t=[],o=0;o<n.length;o++)4==e[n[o]].length&&(r=e[n[o]].slice(0,1),a=e[n[o]].slice(-1),t.push(r.join(),a.join())),5==e[n[o]].length&&(r=e[n[o]].slice(0,1),a=e[n[o]].slice(-1),t.push(r,a));return t}(t);return!!i.length&&function(e){for(var t=0;t<e.length;t++){if(e[t]==i[0])return parseInt(i[0]);if(e[t]==i[1])return parseInt(i[1])}return!1}(e)}(n.oneMatch,n.keepTheseOnes);return r?[!1,n=function(e,t){var n=e.oneMatch,r=n.indexOf(t);return n.splice(r,1),e.moreThanOneMatch.push(t),e}(n,r)]:[function(e){var t,n=e.length;for(t=0;t<n;t++)if(e[t]>4)return e[t];return e.sort()[e.length-1]}(n.oneMatch),n]}return[!1,n]}const K=function(e=window.localStorage){return R(H,e)}();function X(){}X.prototype={store:K,decideWhichCard(e,t=null){var n=[];return Array.from(e).forEach(e=>{n.push(e.firstChild.getAttribute("class").split(" "))}),this.startTheProcess(n,t)},startTheProcess(e,t){var n=U(J(function(e){var t=c(e);return o.forEach(n=>{e[n]||(t[n]=[]),t[n].sort((e,t)=>e-t)}),t}(function(e){const t={};return e.forEach(e=>{t[e[0]]||(t[e[0]]=[]),t[e[0]].push(s[e[1]])}),t}(e))),t);let a=[],i=!1,l={},d=null,u=0;return"dowetakediscardcard"===t?function(e,t){var n,r=e.lastElementChild.firstChild,o=r.getAttribute("class").split(" "),a=parseInt(r.getAttribute("data-value")),i=o.splice(0,2);a=10==a?s[i[1]]:a;var l=t.keepTheseOnes,c=t.oneMatch,d=t.moreThanOneMatch;return function(e,t){var r,o,a=e[0];for(n in l)if(n===a&&l[a].length){var i=l[a][0],s=l[a][l[a].length-1];if(i-1===t)return!0;if(s+1===t)return!0}for(r=0;r<c.length;r++)if(t===c[r])return!0;for(o=0;o<d.length;o++)if(t===d[o])return!0;return!1}(i,a)}(this.DOMJunkPileContainer,n):(u=function(e){for(var t=Object.keys(e),n=t.length,r=0,o=[];r<n;r++)if("keepTheseOnes"!==t[r]&&"moreThanOneMatch"!==t[r]){if(Array.isArray(e[t[r]]))for(var a=0;a<e[t[r]].length;a++)e[t[r]][a]>10?o.push(parseInt(20)):o.push(parseInt(2*e[t[r]][a]));if("object"==typeof e[t[r]])for(var i in e[t[r]])if(e[t[r]][i].length)for(var s=0;s<e[t[r]][i].length;s++)e[t[r]][i][s]>10?o.push(10):o.push(e[t[r]][i][s])}return function(e){var t=0,n=0;for(n=0;n<e.length;n++)t+=e[n];return t}(o)}(n),console.log(u),"getJoshuaScore"===t?(K.dispatch(q(u)),this.beginningOfTheEnd(t,n),!1):"getFirstPlayerScore"===t?(K.dispatch(Y(u)),this.beginningOfTheEnd(t,n),!1):"firstPlayerKnock"===t?u<=10?(K.dispatch(Y(u)),K.dispatch(function(e){return{type:"STORE_FINAL_FIRST_PLAYER_OBJECT",value:e}}(n)),"legitimate"):"not-legitimate":(console.log(n),d=function(){var e,t=[],n=arguments;return(t=function r(o,a){for(e in n[a])for(var i=0;i<n[a][e].length;i++)if(n[a][e][i]>o)return t.push("."+e,n[a][e][i]),t;return 8===o&&(t=r(4,0),Array.isArray(t))?t:4===o&&(t=r(9,1),Array.isArray(t))?t:9===o&&(t=r(3,1),Array.isArray(t))?t:void 0}(8,0))||"wtf"}(n.possibleDiscard,n.maybes,n.oneMatch),console.log(d),l=function(e,t,n){let o=0,a="";return"number"==typeof e?(o=t-e,a="."+r[e-1]):("wtf"===e&&(e=function(e){var t=[];for(var n in e.possibleDiscard)for(var r=0;r<e.possibleDiscard[n].length;r++)return t.push(n,e.possibleDiscard[n][r]),t;for(var o in e.maybes)for(var a=0;a<e.maybes[o].length;a++)return t.push(n,e.maybes[o][a]),t;for(var i in e.keepTheseOnes)for(var s=0;s<e.keepTheseOnes[i].length;s++)return t.push(i,e.keepTheseOnes[i][s]),t}(n)),o=t-(e[1]>10?10:e[1]),e[1]="."+r[e[1]-1],a=e.join("")),{finalTotal:o,stringToDiscard:a,whatCardToRidThisTime:e}}((a=W(d,n))[0]?a[0]:d,u,a[1]),console.log(l),i=this.findCardtoDiscard(l.stringToDiscard,a[1].keepTheseOnes,"number"==typeof l.whatCardToRidThisTime?l.whatCardToRidThisTime:null),console.log(l.finalTotal),l.finalTotal<=10?(K.dispatch({type:"DISCARD_CARD"}),K.dispatch(function(e){return{type:"STORE_FINAL_JOSHUA_OBJECT",value:e}}(n)),K.dispatch(q(l.finalTotal)),{frontSideOfCardToBeDiscarded:i,computerKnock:!0}):i))},togglebutton(e){e?(e.disabled=!0,e.nextElementSibling.disabled=!1):(this.DOMtakeCardButton.disabled=!1,this.DOMknockButton.disabled=!0)},findCardtoDiscard:function(e,t,n){if(this.DOMcomp_playerArea.querySelectorAll(e).length>1&&n){var r,o=function(){var e=null;return Object.keys(t).forEach(function(r){t[r].forEach(function(t){t===n&&(e="."+r)})}),e}();r=o?this.DOMcomp_playerArea.querySelector("div:not("+o+")"):this.DOMcomp_playerArea.querySelector(e)}else r=this.DOMcomp_playerArea.querySelector(e);return r.classList.add("discard"),r},beginningOfTheEnd:function(e,t){var n,r,o,a=0,i=this.store.getState().score.firstPlayerValue,s=this.store.getState().score.joshuaValue,l=[],c=[],d=0;return console.log(e,t,i,s),"getFirstPlayerScore"===e?(a=i-s,0===s&&(a+=20)):(a=s-i,0===i&&(a+=20)),n=this.showYourCardsJoshua("getFirstPlayerScore"===e?this.store.getState().score.joshuaFinalObj:t),this.manipulateTheDom(n),r=this.laySomeDeadwood("getFirstPlayerScore"===e,t),console.log(r),o=this.compareDeadwood(r,"getFirstPlayerScore"===e?this.store.getState().score.joshuaFinalObj:this.store.getState().score.firstPlayerObj,"getFirstPlayerScore"===e&&"joshua"),console.log(o),o&&(o.inaRow.length&&(l=this.addOnYourDeadwoodToOpponet(o.inaRow,"inarow",e)),o.match.length&&(c=this.addOnYourDeadwoodToOpponet(o.match,"match",e)),d=this.loopThroughWhatToMinus(l,c),a=a<0?0-d:a-d),a>0?this.makeLoveNotTupperWar(a,e,"getFirstPlayerScore"!==e):this.makeLoveNotTupperWar(Math.abs(a)+10,e,"getFirstPlayerScore"===e),!0},showYourCardsJoshua:function(e){console.log(e);var t;(function(){var e=this.DOMcomp_playerArea.children;Array.from(e).forEach(e=>{e.removeAttribute("style")}),this.DOMcomp_player.style.top="15px"}).call(this);var n=[],r=e.keepTheseOnes,o=e.moreThanOneMatch,a={clubs:[],diamonds:[],hearts:[],spades:[]};for(t in r)for(var i=0;i<r[t].length;i++)a[t][i]="."+t+"."+this.cardArray[r[t][i]-1];for(var s=0;s<o.length;s++)n.push("."+this.cardArray[o[s]-1]);return a.match=n,console.log(a),a},manipulateTheDom:function(e){var t;console.log(e);var n=e.match,r=this.DOMcomp_player,o=null,a=null,i=0,s=this.DOMcomp_playerArea.lastElementChild.getBoundingClientRect().left,l=function(e,t){if(t)return Array.from(t.children).forEach(e=>{o.appendChild(e)}),!0;r.querySelectorAll(e).forEach(e=>{var t=e.parentElement;t.classList.contains("tagged")||(t.classList.add("tagged"),o.appendChild(t))})},c=function(e,t){var n=r.children.length,o=t.children.length;i+=o;var l=85*o;if(console.log(i,s),t.style.width=l+"px",1==n&&(a=parseInt(s)-l,t.style.left=a+"px"),2==n){console.log(a,t.getBoundingClientRect().width);var c=a-85*(i-1);t.style.left=c+"px"}3==n&&(t.style.left=10===i?"0px":"100px"),r.appendChild(t)},d=function(e){var t=document.createElement("section");return t.classList.add(e,"runs_wrapper"),t};for(t in e)if("match"!==t&&e[t].length){o=d(t);for(var u=0;u<e[t].length;u++)l.call(this,e[t][u]);c.call(this,e[t].length,o)}for(var h=0;h<n.length;h++){o=d("match"+h),l.call(this,n[h]),c.call(this,null,o)}!function(e){console.log("whattodowiththerestcalled");var t=e.children.length;o=d("leftovers"),l.call(this,".wrapper",e),o.style.left="0px",o.style.width=85*t+"px",r.appendChild(o),e.parentElement.removeChild(e)}(this.DOMcomp_playerArea)},laySomeDeadwood:function(e,t){var n=null,r=[],o=this,a=function(e){for(var t in e)for(var n=0;n<e[t].length;n++)r.push(t+" "+e[t][n])};return n=e?this.DOMplayerArea:document.querySelector(".leftovers"),function(e){var t=e.oneMatch,i=e.maybes,s=e.possibleDiscard;return function(e){for(var t=0;t<e.length;t++)for(var a=0;a<2;a++){var i="."+o.cardArray[e[t]-1],s=n.querySelectorAll(i)[a].getAttribute("class").split(" ")[0]+e[t];r.push(s)}}(t),a(i),a(s),r}(t)},compareDeadwood:function(e,t,n){var r=t.moreThanOneMatch,o=t.keepTheseOnes,a=e.length,i=!1,s=function(e){return parseInt(e.match(/\d+/))},l=function(e){var t=e.indexOf(" ");return e.slice(0,t)},c=function(){for(var t=[],n=function(e){for(var t=0;t<r.length;t++)if(e===r[t])return r[t];return!1},o=0;o<a;o++)n(s(e[o]))&&(t.push(e[o]),e[o]="");return!!t.length&&t}(),d=function(){var t=[],n=null,r=function(t,n){for(var r=0;r<a;r++){var o=l(e[r]),i=s(e[r]);if(o==t&&(i==n-1||i==n+1))return e[r]}return!1};for(var i in o)for(var c=0;c<o[i].length;c++)(n=r(i,o[i][c]))&&t.push(n);return!!t.length&&t}();return(c&&n||d&&n)&&(i=!0),(c&&!n||d&&!n)&&(i=!0,console.log(c)),i?{johsua:n,match:c||[],inaRow:d||[]}:i},addOnYourDeadwoodToOpponet:function(e,t,n){var r=this,o=null,a=[],i=document.querySelector(".leftovers"),s=function(e){return parseInt(e.match(/\d+/))};return"match"==t?(e.forEach(function(e){o=s(e);var t=r.cardArray[o-1];"getFirstPlayerScore"===n?r.DOMplayerArea.querySelector("."+t).parentElement.classList.add("zooom"):i.querySelector("."+t).parentElement.classList.add("zooom"),a.push(o)}),a):(e.forEach(function(e){o=s(e);var t="."+r.cardArray[o-1],l="."+function(e){var t=e.indexOf(" ");return e.slice(0,t)}(e)+t;"getFirstPlayerScore"===n?r.DOMplayerArea.querySelector(l).parentElement.classList.add("zoom"):i.querySelector(l).parentElement.classList.add("zoom"),a.push(o)}),a)},makeLoveNotTupperWar:function(e,t,n){var r={};r.heading=n?"Congratulations You Won this hand ":"Sorry you lost this hand",r.win=n?"You":"Joshua",r.text=r.win+" scored "+e+" points",r.score=e,r.total=this.getExistingWinnerTotal(r.win)+r.score,console.log("calledmakeloveNotupper"),this.overlay(r)},getExistingWinnerTotal:function(e){if(window.localStorage[e]){var t=0;return window.localStorage[e].split(",").forEach(function(e){t+=parseInt(e)}),t}return 0},loopThroughWhatToMinus:function(e,t){var n=0;return e.concat(t).forEach(function(e){n+=e>10?10:e}),n},overlay:function(e){console.log("overlay called",e);var t=document.querySelector(".overlay"),n=t.querySelector(".overlay-close"),r=this,o=document.getElementById("game_over"),a=e?e.score:null,i=function(a){if(a&&(a.target&&a.preventDefault()),console.log(a),t.classList.contains("open")){t.classList.remove("open"),t.classList.add("close");t.addEventListener("transitionend",function(){console.log("triggered"),t.classList.remove("close")},{once:!0}),document.getElementById("game_over").style.display="none",console.log("open"),n.removeEventListener("click",s,!1)}else if(t.classList.contains("close"))t.classList.add("open");else if(t.classList.add("open"),n.addEventListener("click",s,!1),console.log("close"),a&&(a.heading&&a.total<100&&(document.getElementById("game_over").style.display="block",document.getElementById("intro").style.display="none",o.querySelector("h1").innerHTML=e.heading,o.querySelector("h2").innerHTML=e.text),a.heading&&a.total>=100))return document.getElementById("game_over").style.display="block","You"===e.win?(o.querySelector("h1").innerHTML="Congratualations You won the game but I'll get you next time, Gadget! NEXT time!",o.querySelector("h2").innerHTML="You scored a total of "+e.total+" points",r.congratulations(!0)):(o.querySelector("h1").innerHTML="Joshua and O'Doyle Rules - GAME OVER!",o.querySelector("h2").innerHTML="Joshua scored a total of "+e.total+" points",r.congratulations()),!0;a&&a.data&&a.data.score&&([].slice.call(document.querySelectorAll("button")).forEach(function(e){e.classList.contains("overlay-close")?e.disabled=!1:e.disabled=!0}),r.updateScore(e),console.log("start new game called"),function(){var e=document.getElementById("trigger-overlay");e.innerHTML="",e.classList.add("newGAME","bubble"),e.innerText="Start New Match",e.addEventListener("click",e=>{e.preventDefault(),window.location.reload()})}())},s=function(e){console.log("calllled"),e.data={},e.data.score=a,i(e)};if(e&&i(e))return!0;"falsy"===window.localStorage.getItem("modal")||e||(t.appendChild(this.DOMIntroNIframe),this.DOMIntroNIframe.classList.remove("hide"),i()),window.localStorage.setItem("modal","falsy")},congratulations:function(e){console.log("player",e),window.localStorage.removeItem("You"),window.localStorage.removeItem("Joshua")},updateScore:function(e){var t=e.win,n="You"===e.win?"Joshua":"You",r=document.getElementById("you"),o=document.getElementById("joshua"),a=r.querySelector("div").children,i=o.querySelector("div").children,s=document.createElement("span"),l={},c={};console.log(e);var d=function(){s.innerHTML=e.score},u=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var o=parseInt(e[r].textContent);t.push(o),n+=o}return{arr:t,total:n,overOneHundred:n>=100}};"You"===t?(d(),r.querySelector("div").appendChild(s),l=u(a),c=u(i),r.querySelector("h6").innerHTML=l.total):(d(),o.querySelector("div").appendChild(s),l=u(i),c=u(a),o.querySelector("h6").innerHTML=l.total),l.overOneHundred&&(this.DOMcomp_player.parentElement.removeChild(this.DOMcomp_player),this.DOMplayer.parentElement.removeChild(this.DOMplayer),document.getElementById("main_content").parentElement.removeChild(document.getElementById("main_content"))),window.localStorage.setItem(t,l.arr),window.localStorage.setItem(n,c.arr),document.getElementById("score").style.display="block"},checkLocalStorage:function(){var e=function(e,t){var n=0;e.forEach(function(e,r,o){var a=document.createElement("span");a.innerHTML=e,t.querySelector("div").appendChild(a),n+=parseInt(e)}),t.querySelector("h6").innerHTML=n};if(window.localStorage.getItem("You")||window.localStorage.getItem("Joshua")){if(document.getElementById("score").style.display="block",window.localStorage.getItem("You"))e(window.localStorage.getItem("You").split(","),document.getElementById("you"));if(window.localStorage.getItem("Joshua"))e(window.localStorage.getItem("Joshua").split(","),document.getElementById("joshua"))}}};var V=X;const z=Object.assign(V.prototype,{cardArray:r,cardSuits:o,one_suit:i,cardValues:s,deckofcards:function(e,t){const n={};return e.forEach(e=>{n[e]=Object.create(t)}),n}(o,i),playHoverCalled:!1,whole_deck:[],sortable:{},DOMbubble:document.querySelector(".bubble"),DOMplayer:document.getElementById("player"),DOMplayerArea:document.getElementById("area"),DOMcomp_player:document.getElementById("comp_player"),DOMcomp_playerArea:document.getElementById("comp_area"),DOMdeck:document.getElementById("deck"),DOMJunkPileContainer:document.getElementById("junkpileArea"),DOMIntroNIframe:document.getElementById("intro"),DOMdealCardsButton:document.getElementById("deal"),DOMtakeCardButton:document.getElementById("takeCard"),DOMreshuffleButton:document.getElementById("reshuffle"),DOMknockButton:document.getElementById("knock")}),G=Object.create(z);G.showHint=function(e){this.DOMbubble.classList.remove("hide"),this.DOMbubble.removeAttribute("data-bubble"),1===e&&(this.DOMbubble.innerHTML="Sort your cards by either suit or match. Drag each card with your mouse. When you are done sorting, either take the top card from the discard pile or click take from deck button",this.DOMbubble.setAttribute("data-bubble","second"),window.setTimeout(()=>{this.DOMbubble.classList.add("animated")},0)),2===e&&(this.DOMbubble.setAttribute("data-bubble","third"),this.DOMbubble.innerHTML="Before you discard any of your cards you have the option to knock (end the game) - Any remaining cards that are not part of a valid combination are considered deadwood, \nthe total value of your deadwood should be ten points or less or you will be alerted that you are unable to knock if you are able to knock your point total will be compared to Joshuas(the computer) too see if you won or lost",this.DOMbubble.classList.remove("hide"),window.setTimeout(()=>{this.DOMbubble.classList.add("animated")},0))},G.removeHint=function(e){this.DOMbubble.classList.add("hide"),this.DOMbubble.classList.remove("animated")},G.initiateSubscribe=function(){this.store.subscribe(()=>{1===this.store.getState().game.noOfCardsDiscarded&&G.removeHint(),2===this.store.getState().game.noOfCardsDiscarded&&G.showHint(2),3===this.store.getState().game.noOfCardsDiscarded&&G.removeHint()})};var Q=G;const Z=n(4),$=Object.create(z);$.createarrayofcards=function(e){var t,n="",r=[];for(t in this.deckofcards){var o=this.deckofcards[t];for(n in o)r.push(n+" of "+t+" "+o[n])}this.whole_deck=function(e){for(var t,n,r=e.length;0!==r;)n=Math.floor(Math.random()*r),t=e[r-=1],e[r]=e[n],e[n]=t;return e}(r),e&&(this.fillinmaincontent(),this.loopthroughdiv(),this.dealcards())},$.fillinmaincontent=function(){this.DOMdeck.innerHTML=this.createhtmlDeck(this.whole_deck),this.store.dispatch(function(e){return{type:"DECK_CREATED",text:e}}("deckCreated"))},$.createhtmlDeck=function(e){var t,n=e.length,r="";for(t=0;t<n;t++)r+='<section class="wrapper"><div data-side="front" class='+this.whole_deck[t].split(" ")[2]+">"+e[t]+'</div><div class="back"></div></section>';return r},$.loopthroughdiv=function(){var e,t,n,r;Array.from(this.DOMdeck.querySelectorAll('[data-side="front"]')).forEach((o,a)=>{e=o.innerText,t=e.substr(e.length-2),n=e.split(" "),o.setAttribute("data-value",t.trim()),o.classList.add(n[0]),Object.assign(o.parentElement.style,{transform:"translate("+(1+a)+"px,"+(1+a)+"px)",zIndex:1+a}),r=n.pop(),o.innerHTML="<p>"+n.join(" ")+"</p><a href='#'>discard</a><span>"+r+"</span>"})},$.dealcards=function(e){var t,n=50,r=51,o=.1,a=r-20,i=this.DOMdeck.querySelectorAll(".wrapper");for(Q.removeHint(),e&&e.target&&e.target.setAttribute("disabled","disabled"),i[a+1].addEventListener("transitionend",()=>{this.store.dispatch(function(e){return{type:"CARDS_DELT",text:e}}("cardsDelt")),this.flipNewDeck()},{once:!0});r>a&&(r%2==1?(i[r].classList.add("player","delt"),t=o.toString()+"s",Object.assign(i[r].style,{transform:"translate("+(n-50)+"px,230px)","transition-delay":t})):(i[r].classList.add("comp_player","delt"),Object.assign(i[r].style,{transform:"translate("+(n-50)+"px, -200px)","transition-delay":t}),n=100+n),o=.25+o,r!==a);r--);},$.flipNewDeck=function(){var e=this.DOMdeck.querySelectorAll(".comp_player"),t=this.DOMdeck.querySelectorAll(".player"),n=t[9].getBoundingClientRect(),r=e[9].getBoundingClientRect(),o=n.left,a=n.top,i=r.left,s=r.top;this.DOMplayer.style.left=o+"px",this.DOMplayer.style.top=a-230+"px",this.DOMcomp_player.style.top=s+"px",this.DOMcomp_player.style.left=i+"px",Array.from(t).forEach((e,n)=>{e.style.zIndex=50-n,e.classList.add("flipchild"),t[9].addEventListener("transitionend",t=>{e.removeAttribute("style"),this.DOMplayer.style.top=a+"px",this.DOMplayerArea.prepend(e),this.store.dispatch(function(e){return{type:"FLIP_NEW_DECK",text:e}}("flippedDeck")),this.makeDeckSortable()},{once:!0})}),Array.from(e).forEach((e,t)=>{e.removeAttribute("style"),this.DOMcomp_playerArea.append(e)})},$.makeDeckSortable=function(){z.sortable=Z.create(this.DOMplayerArea,{draggable:".wrapper",onAdd:function(e){},onRemove:function(e){},onMove:function(e){}}),z.DOMplayerArea=z.sortable.el,this.dealfirstcard()},$.dealfirstcard=function(){const e=this.DOMdeck.lastElementChild,t=e.firstElementChild,n=e.querySelector("a");e.style.transform="translate( 190px, 32px)",e.classList.add("showdacard","junkpile"),Q.showHint(1),e.addEventListener("transitionend",r=>{var o=e;o.classList.add("flipchild"),o.addEventListener("transitionend",e=>{n.textContent="TAKE",n.classList.add("take"),t.classList.add("taketopCard"),this.DOMtakeCardButton.classList.remove("hide"),this.DOMknockButton.classList.remove("hide"),this.DOMreshuffleButton.removeAttribute("disabled"),r.target.removeAttribute("style"),this.DOMJunkPileContainer.append(r.target)},{once:!0})},{once:!0})},$.reshuffle=function(){this.DOMcomp_playerArea.innerHTML="",this.DOMplayerArea.innerHTML="",this.DOMcomp_playerArea.innerHTML="",this.DOMJunkPileContainer.innerHTML="",this.createarrayofcards(!0),this.store.dispatch(function(e){return{type:"RESHUFFLE",text:e}}("reshuffled"))},$.userEvents=function(){this.DOMdealCardsButton.addEventListener("click",this.dealcards.bind(this)),this.DOMreshuffleButton.addEventListener("click",this.reshuffle.bind(this))};const ee=Object.create(z);ee.takeFromDeck=function(e){let t=!1;this.togglebutton(e.target);const n=this.DOMdeck.lastElementChild;n.classList.add("player","temp","speedUpAnimation"),n.style.transform="translate(-50px, 230px)",n.addEventListener("transitionend",e=>{t||(this.flipcards("top-card",n),t=!0)})},ee.flipcards=function(e,t){t.classList.add("flipchild");let n=!1;t.addEventListener("transitionend",e=>{n||(t.removeAttribute("style"),t.classList.remove("temp","speedUpAnimation"),t.classList.add("delt"),this.DOMplayerArea.prepend(t),this.toggleDiscardState("takeFromDeck"),n=!0)})},ee.takeFromPile=function(e){if(e.target.classList.contains("take")){this.togglebutton(this.DOMtakeCardButton);let t=!1,n=0,r=e.target.parentElement.parentElement;e.target.classList.remove("take"),e.target.textContent="discard",e.target.parentElement.classList.remove("taketopCard"),n=l(r).left-l(this.DOMplayer).left,r.classList.add("player","speedUpAnimation"),r.style.transform="translate("+-n+"px, 198px)",r.addEventListener("transitionend",e=>{t||(r.removeAttribute("style"),r.classList.remove("temp","speedUpAnimation","showdacard","junkpile"),this.DOMplayerArea.prepend(r),this.toggleDiscardState("takeFromPile"),t=!0)})}},ee.toggleDiscardState=function(e){Array.from(this.DOMplayerArea.querySelectorAll(".wrapper")).forEach((e,t)=>{e.querySelector("a").classList.toggle("show")}),"takeFromDeck"===e&&this.DOMJunkPileContainer.lastElementChild.firstElementChild.classList.remove("taketopCard"),this.DOMtakeCardButton.setAttribute("disabled",!0)},ee.preDiscardCard=function(e){if(e.target.classList.contains("show")){const t=e.target.parentElement.parentElement;this.toggleDiscardState(),this.discard(t),e.preventDefault()}},ee.discard=function(e){if(this.DOMJunkPileContainer.append(e),this.store.getState().game.playerKnock){const e=this.decideWhichCard(this.DOMplayer.querySelectorAll(".wrapper"),"firstPlayerKnock");"legitimate"===e?this.decideWhichCard(this.DOMcomp_playerArea.querySelectorAll(".wrapper"),"getJoshuaScore"):"not-legitimate"===e&&(window.alert("you don't have enough to knock"),this.store.dispatch({type:"PLAYER_KNOCK"}),this.store.dispatch({type:"DISCARD_CARD"}))}else this.store.dispatch({type:"DISCARD_CARD"})},ee.playerKnock=function(e){window.alert("please choose one last card to discard"),e.target.disabled=!0,this.store.dispatch({type:"PLAYER_KNOCK"})},ee.userEvents=function(){this.DOMtakeCardButton.addEventListener("click",this.takeFromDeck.bind(this)),this.DOMJunkPileContainer.addEventListener("click",this.takeFromPile.bind(this)),this.DOMknockButton.addEventListener("click",this.playerKnock.bind(this)),this.DOMplayerArea.addEventListener("click",e=>{e.target.classList.contains("show")&&this.preDiscardCard(e)})};const te=Object.create(z);function ne(){return this.DOMcomp_playerArea.querySelectorAll(".wrapper")}te.cardToDiscard=null,te.frontOfcardToDiscard=null,te.chooseWisely=function(e){const t=this.DOMdeck.lastElementChild,n=this.DOMJunkPileContainer.lastElementChild;return{card:e?n:t,junkPile:!!e}},te.takeCardProcess=function(){let e;this.store.subscribe(()=>{this.store.getState().game.playerDiscard&&window.setTimeout(()=>{var t=this.decideWhichCard(ne.call(this),"dowetakediscardcard");e=this.chooseWisely(t),this.addCardToJoshuaHand(e.card,e.junkPile)},1e3)})},te.addCardToJoshuaHand=function(e,t){let n=!1,r=l(e).left-l(this.DOMcomp_playerArea).left;e.classList.remove("flipchild","player","speedUpAnimation"),e.classList.add("comp_player","temp"),e.style.transform=t?"translate("+-r+"px, -200px)":"translate(0px, -200px)",e.addEventListener("transitionend",t=>{n||(e.removeAttribute("style"),this.DOMcomp_playerArea.append(e),this.frontOfcardToDiscard=this.decideWhichCard(ne.call(this)),this.frontOfcardToDiscard.computerKnock?(this.frontOfcardToDiscard=this.frontOfcardToDiscard.frontSideOfCardToBeDiscarded,this.cardToDiscard=this.frontOfcardToDiscard.parentElement,this.discardOfCard(!0),this.decideWhichCard(this.DOMplayer.querySelectorAll(".wrapper"),"getFirstPlayerScore")):(this.cardToDiscard=this.frontOfcardToDiscard.parentElement,this.discardOfCard()),n=!0)})},te.discardOfCard=function(e){let t=this.frontOfcardToDiscard.querySelector("a");this.frontOfcardToDiscard.classList.add("taketopCard"),t.textContent="TAKE",t.classList.add("take"),this.DOMJunkPileContainer.append(this.cardToDiscard),this.cardToDiscard.classList.add("showdacard","flipchild"),this.store.dispatch(function(e){return{type:"JOSHUA_DISCARD_CARD",value:!!e&&"endOfGame"}}(e||!1)),this.togglebutton()};n(67);$.createarrayofcards(),$.fillinmaincontent(),$.loopthroughdiv(),$.userEvents(),ee.userEvents(),te.takeCardProcess(),Q.initiateSubscribe(),$.overlay(),$.checkLocalStorage()},4:function(e,t,n){var r,o;
/**!
 * Sortable
 * @author	RubaXa   <trash@rubaxa.org>
 * @license MIT
 */
/**!
 * Sortable
 * @author	RubaXa   <trash@rubaxa.org>
 * @license MIT
 */
!function(a){"use strict";void 0===(o="function"==typeof(r=a)?r.call(t,n,t,e):r)||(e.exports=o)}(function(){"use strict";if("undefined"==typeof window||!window.document)return function(){throw new Error("Sortable.js requires a window with a document")};var e,t,n,r,o,a,i,s,l,c,d,u,h,f,p,g,v,m,y,b,D={},O=/\s+/g,E=/left|right|inline/,w="Sortable"+(new Date).getTime(),_=window,T=_.document,S=_.parseInt,k=_.setTimeout,C=_.jQuery||_.Zepto,M=_.Polymer,A=!1,L="draggable"in T.createElement("div"),I=function(e){return!navigator.userAgent.match(/(?:Trident.*rv[ :]?11\.|msie)/i)&&((e=T.createElement("x")).style.cssText="pointer-events:auto","auto"===e.style.pointerEvents)}(),x=!1,j=Math.abs,P=Math.min,R=[],B=[],N=ne(function(e,t,n){if(n&&t.scroll){var r,o,a,i,d,u,h=n[w],f=t.scrollSensitivity,p=t.scrollSpeed,g=e.clientX,v=e.clientY,m=window.innerWidth,y=window.innerHeight;if(l!==n&&(s=t.scroll,l=n,c=t.scrollFn,!0===s)){s=n;do{if(s.offsetWidth<s.scrollWidth||s.offsetHeight<s.scrollHeight)break}while(s=s.parentNode)}s&&(r=s,o=s.getBoundingClientRect(),a=(j(o.right-g)<=f)-(j(o.left-g)<=f),i=(j(o.bottom-v)<=f)-(j(o.top-v)<=f)),a||i||(i=(y-v<=f)-(v<=f),((a=(m-g<=f)-(g<=f))||i)&&(r=_)),D.vx===a&&D.vy===i&&D.el===r||(D.el=r,D.vx=a,D.vy=i,clearInterval(D.pid),r&&(D.pid=setInterval(function(){if(u=i?i*p:0,d=a?a*p:0,"function"==typeof c)return c.call(h,d,u,e);r===_?_.scrollTo(_.pageXOffset+d,_.pageYOffset+u):(r.scrollTop+=u,r.scrollLeft+=d)},24)))}},30),F=function(e){function t(e,t){return void 0!==e&&!0!==e||(e=n.name),"function"==typeof e?e:function(n,r){var o=r.options.group.name;return t?e:e&&(e.join?e.indexOf(o)>-1:o==e)}}var n={},r=e.group;r&&"object"==typeof r||(r={name:r}),n.name=r.name,n.checkPull=t(r.pull,!0),n.checkPut=t(r.put),n.revertClone=r.revertClone,e.group=n};try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){A={capture:!1,passive:!1}}}))}catch(e){}function H(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be HTMLElement, and not "+{}.toString.call(e);this.el=e,this.options=t=re({},t),e[w]=this;var n={group:Math.random(),sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(e.nodeName)?"li":">*",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==H.supportPointer};for(var r in n)!(r in t)&&(t[r]=n[r]);for(var o in F(t),this)"_"===o.charAt(0)&&"function"==typeof this[o]&&(this[o]=this[o].bind(this));this.nativeDraggable=!t.forceFallback&&L,U(e,"mousedown",this._onTapStart),U(e,"touchstart",this._onTapStart),t.supportPointer&&U(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(U(e,"dragover",this),U(e,"dragenter",this)),B.push(this._onDragOver),t.store&&this.sort(t.store.get(this))}function Y(t,n){"clone"!==t.lastPullMode&&(n=!0),r&&r.state!==n&&(X(r,"display",n?"none":""),n||r.state&&(t.options.group.revertClone?(o.insertBefore(r,a),t._animate(e,r)):o.insertBefore(r,e)),r.state=n)}function q(e,t,n){if(e){n=n||T;do{if(">*"===t&&e.parentNode===n||te(e,t))return e}while(e=J(e))}return null}function J(e){var t=e.host;return t&&t.nodeType?t:e.parentNode}function U(e,t,n){e.addEventListener(t,n,A)}function W(e,t,n){e.removeEventListener(t,n,A)}function K(e,t,n){if(e)if(e.classList)e.classList[n?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(O," ").replace(" "+t+" "," ");e.className=(r+(n?" "+t:"")).replace(O," ")}}function X(e,t,n){var r=e&&e.style;if(r){if(void 0===n)return T.defaultView&&T.defaultView.getComputedStyle?n=T.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in r||(t="-webkit-"+t),r[t]=n+("string"==typeof n?"":"px")}}function V(e,t,n){if(e){var r=e.getElementsByTagName(t),o=0,a=r.length;if(n)for(;o<a;o++)n(r[o],o);return r}return[]}function z(e,t,n,o,a,i,s,l){e=e||t[w];var c=T.createEvent("Event"),d=e.options,u="on"+n.charAt(0).toUpperCase()+n.substr(1);c.initEvent(n,!0,!0),c.to=a||t,c.from=i||t,c.item=o||t,c.clone=r,c.oldIndex=s,c.newIndex=l,t.dispatchEvent(c),d[u]&&d[u].call(e,c)}function G(e,t,n,r,o,a,i,s){var l,c,d=e[w],u=d.options.onMove;return(l=T.createEvent("Event")).initEvent("move",!0,!0),l.to=t,l.from=e,l.dragged=n,l.draggedRect=r,l.related=o||t,l.relatedRect=a||t.getBoundingClientRect(),l.willInsertAfter=s,e.dispatchEvent(l),u&&(c=u.call(d,l,i)),c}function Q(e){e.draggable=!1}function Z(){x=!1}function $(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;n--;)r+=t.charCodeAt(n);return r.toString(36)}function ee(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e&&(e=e.previousElementSibling);)"TEMPLATE"===e.nodeName.toUpperCase()||">*"!==t&&!te(e,t)||n++;return n}function te(e,t){if(e){var n=(t=t.split(".")).shift().toUpperCase(),r=new RegExp("\\s("+t.join("|")+")(?=\\s)","g");return!(""!==n&&e.nodeName.toUpperCase()!=n||t.length&&((" "+e.className+" ").match(r)||[]).length!=t.length)}return!1}function ne(e,t){var n,r;return function(){void 0===n&&(n=arguments,r=this,k(function(){1===n.length?e.call(r,n[0]):e.apply(r,n),n=void 0},t))}}function re(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function oe(e){return M&&M.dom?M.dom(e).cloneNode(!0):C?C(e).clone(!0)[0]:e.cloneNode(!0)}function ae(e){return k(e,0)}function ie(e){return clearTimeout(e)}return H.prototype={constructor:H,_onTapStart:function(t){var n,r=this,o=this.el,a=this.options,s=a.preventOnFilter,l=t.type,c=t.touches&&t.touches[0],d=(c||t).target,u=t.target.shadowRoot&&t.path&&t.path[0]||d,h=a.filter;if(function(e){var t=e.getElementsByTagName("input"),n=t.length;for(;n--;){var r=t[n];r.checked&&R.push(r)}}(o),!e&&!(/mousedown|pointerdown/.test(l)&&0!==t.button||a.disabled)&&!u.isContentEditable&&(d=q(d,a.draggable,o))&&i!==d){if(n=ee(d,a.draggable),"function"==typeof h){if(h.call(this,t,d,this))return z(r,u,"filter",d,o,o,n),void(s&&t.preventDefault())}else if(h&&(h=h.split(",").some(function(e){if(e=q(u,e.trim(),o))return z(r,e,"filter",d,o,o,n),!0})))return void(s&&t.preventDefault());a.handle&&!q(u,a.handle,o)||this._prepareDragStart(t,c,d,n)}},_prepareDragStart:function(n,r,s,l){var c,d=this,u=d.el,h=d.options,p=u.ownerDocument;s&&!e&&s.parentNode===u&&(m=n,o=u,t=(e=s).parentNode,a=e.nextSibling,i=s,g=h.group,f=l,this._lastX=(r||n).clientX,this._lastY=(r||n).clientY,e.style["will-change"]="all",c=function(){d._disableDelayedDrag(),e.draggable=d.nativeDraggable,K(e,h.chosenClass,!0),d._triggerDragStart(n,r),z(d,o,"choose",e,o,o,f)},h.ignore.split(",").forEach(function(t){V(e,t.trim(),Q)}),U(p,"mouseup",d._onDrop),U(p,"touchend",d._onDrop),U(p,"touchcancel",d._onDrop),U(p,"selectstart",d),h.supportPointer&&U(p,"pointercancel",d._onDrop),h.delay?(U(p,"mouseup",d._disableDelayedDrag),U(p,"touchend",d._disableDelayedDrag),U(p,"touchcancel",d._disableDelayedDrag),U(p,"mousemove",d._disableDelayedDrag),U(p,"touchmove",d._disableDelayedDrag),h.supportPointer&&U(p,"pointermove",d._disableDelayedDrag),d._dragStartTimer=k(c,h.delay)):c())},_disableDelayedDrag:function(){var e=this.el.ownerDocument;clearTimeout(this._dragStartTimer),W(e,"mouseup",this._disableDelayedDrag),W(e,"touchend",this._disableDelayedDrag),W(e,"touchcancel",this._disableDelayedDrag),W(e,"mousemove",this._disableDelayedDrag),W(e,"touchmove",this._disableDelayedDrag),W(e,"pointermove",this._disableDelayedDrag)},_triggerDragStart:function(t,n){(n=n||("touch"==t.pointerType?t:null))?(m={target:e,clientX:n.clientX,clientY:n.clientY},this._onDragStart(m,"touch")):this.nativeDraggable?(U(e,"dragend",this),U(o,"dragstart",this._onDragStart)):this._onDragStart(m,!0);try{T.selection?ae(function(){T.selection.empty()}):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(){if(o&&e){var t=this.options;K(e,t.ghostClass,!0),K(e,t.dragClass,!1),H.active=this,z(this,o,"start",e,o,o,f)}else this._nulling()},_emulateDragOver:function(){if(y){if(this._lastX===y.clientX&&this._lastY===y.clientY)return;this._lastX=y.clientX,this._lastY=y.clientY,I||X(n,"display","none");var e=T.elementFromPoint(y.clientX,y.clientY),t=e,r=B.length;if(e&&e.shadowRoot&&(t=e=e.shadowRoot.elementFromPoint(y.clientX,y.clientY)),t)do{if(t[w]){for(;r--;)B[r]({clientX:y.clientX,clientY:y.clientY,target:e,rootEl:t});break}e=t}while(t=t.parentNode);I||X(n,"display","")}},_onTouchMove:function(e){if(m){var t=this.options,r=t.fallbackTolerance,o=t.fallbackOffset,a=e.touches?e.touches[0]:e,i=a.clientX-m.clientX+o.x,s=a.clientY-m.clientY+o.y,l=e.touches?"translate3d("+i+"px,"+s+"px,0)":"translate("+i+"px,"+s+"px)";if(!H.active){if(r&&P(j(a.clientX-this._lastX),j(a.clientY-this._lastY))<r)return;this._dragStarted()}this._appendGhost(),b=!0,y=a,X(n,"webkitTransform",l),X(n,"mozTransform",l),X(n,"msTransform",l),X(n,"transform",l),e.preventDefault()}},_appendGhost:function(){if(!n){var t,r=e.getBoundingClientRect(),a=X(e),i=this.options;K(n=e.cloneNode(!0),i.ghostClass,!1),K(n,i.fallbackClass,!0),K(n,i.dragClass,!0),X(n,"top",r.top-S(a.marginTop,10)),X(n,"left",r.left-S(a.marginLeft,10)),X(n,"width",r.width),X(n,"height",r.height),X(n,"opacity","0.8"),X(n,"position","fixed"),X(n,"zIndex","100000"),X(n,"pointerEvents","none"),i.fallbackOnBody&&T.body.appendChild(n)||o.appendChild(n),t=n.getBoundingClientRect(),X(n,"width",2*r.width-t.width),X(n,"height",2*r.height-t.height)}},_onDragStart:function(t,n){var a=this,i=t.dataTransfer,s=a.options;a._offUpEvents(),g.checkPull(a,a,e,t)&&((r=oe(e)).draggable=!1,r.style["will-change"]="",X(r,"display","none"),K(r,a.options.chosenClass,!1),a._cloneId=ae(function(){o.insertBefore(r,e),z(a,o,"clone",e)})),K(e,s.dragClass,!0),n?("touch"===n?(U(T,"touchmove",a._onTouchMove),U(T,"touchend",a._onDrop),U(T,"touchcancel",a._onDrop),s.supportPointer&&(U(T,"pointermove",a._onTouchMove),U(T,"pointerup",a._onDrop))):(U(T,"mousemove",a._onTouchMove),U(T,"mouseup",a._onDrop)),a._loopId=setInterval(a._emulateDragOver,50)):(i&&(i.effectAllowed="move",s.setData&&s.setData.call(a,i,e)),U(T,"drop",a),a._dragStartId=ae(a._dragStarted))},_onDragOver:function(i){var s,l,c,f,p=this.el,m=this.options,y=m.group,D=H.active,O=g===y,_=!1,T=m.sort;if(void 0!==i.preventDefault&&(i.preventDefault(),!m.dragoverBubble&&i.stopPropagation()),!e.animated&&(b=!0,D&&!m.disabled&&(O?T||(f=!o.contains(e)):v===this||(D.lastPullMode=g.checkPull(this,D,e,i))&&y.checkPut(this,D,e,i))&&(void 0===i.rootEl||i.rootEl===this.el))){if(N(i,m,this.el),x)return;if(s=q(i.target,m.draggable,p),l=e.getBoundingClientRect(),v!==this&&(v=this,_=!0),f)return Y(D,!0),t=o,void(r||a?o.insertBefore(e,r||a):T||o.appendChild(e));if(0===p.children.length||p.children[0]===n||p===i.target&&function(e,t){var n=e.lastElementChild.getBoundingClientRect();return t.clientY-(n.top+n.height)>5||t.clientX-(n.left+n.width)>5}(p,i)){if(0!==p.children.length&&p.children[0]!==n&&p===i.target&&(s=p.lastElementChild),s){if(s.animated)return;c=s.getBoundingClientRect()}Y(D,O),!1!==G(o,p,e,l,s,c,i)&&(e.contains(p)||(p.appendChild(e),t=p),this._animate(l,e),s&&this._animate(c,s))}else if(s&&!s.animated&&s!==e&&void 0!==s.parentNode[w]){d!==s&&(d=s,u=X(s),h=X(s.parentNode));var S=(c=s.getBoundingClientRect()).right-c.left,C=c.bottom-c.top,M=E.test(u.cssFloat+u.display)||"flex"==h.display&&0===h["flex-direction"].indexOf("row"),A=s.offsetWidth>e.offsetWidth,L=s.offsetHeight>e.offsetHeight,I=(M?(i.clientX-c.left)/S:(i.clientY-c.top)/C)>.5,j=s.nextElementSibling,P=!1;if(M){var R=e.offsetTop,B=s.offsetTop;P=R===B?s.previousElementSibling===e&&!A||I&&A:s.previousElementSibling===e||e.previousElementSibling===s?(i.clientY-c.top)/C>.5:B>R}else _||(P=j!==e&&!L||I&&L);var F=G(o,p,e,l,s,c,i,P);!1!==F&&(1!==F&&-1!==F||(P=1===F),x=!0,k(Z,30),Y(D,O),e.contains(p)||(P&&!j?p.appendChild(e):s.parentNode.insertBefore(e,P?j:s)),t=e.parentNode,this._animate(l,e),this._animate(c,s))}}},_animate:function(e,t){var n=this.options.animation;if(n){var r=t.getBoundingClientRect();1===e.nodeType&&(e=e.getBoundingClientRect()),X(t,"transition","none"),X(t,"transform","translate3d("+(e.left-r.left)+"px,"+(e.top-r.top)+"px,0)"),t.offsetWidth,X(t,"transition","all "+n+"ms"),X(t,"transform","translate3d(0,0,0)"),clearTimeout(t.animated),t.animated=k(function(){X(t,"transition",""),X(t,"transform",""),t.animated=!1},n)}},_offUpEvents:function(){var e=this.el.ownerDocument;W(T,"touchmove",this._onTouchMove),W(T,"pointermove",this._onTouchMove),W(e,"mouseup",this._onDrop),W(e,"touchend",this._onDrop),W(e,"pointerup",this._onDrop),W(e,"touchcancel",this._onDrop),W(e,"pointercancel",this._onDrop),W(e,"selectstart",this)},_onDrop:function(i){var s=this.el,l=this.options;clearInterval(this._loopId),clearInterval(D.pid),clearTimeout(this._dragStartTimer),ie(this._cloneId),ie(this._dragStartId),W(T,"mouseover",this),W(T,"mousemove",this._onTouchMove),this.nativeDraggable&&(W(T,"drop",this),W(s,"dragstart",this._onDragStart)),this._offUpEvents(),i&&(b&&(i.preventDefault(),!l.dropBubble&&i.stopPropagation()),n&&n.parentNode&&n.parentNode.removeChild(n),o!==t&&"clone"===H.active.lastPullMode||r&&r.parentNode&&r.parentNode.removeChild(r),e&&(this.nativeDraggable&&W(e,"dragend",this),Q(e),e.style["will-change"]="",K(e,this.options.ghostClass,!1),K(e,this.options.chosenClass,!1),z(this,o,"unchoose",e,t,o,f),o!==t?(p=ee(e,l.draggable))>=0&&(z(null,t,"add",e,t,o,f,p),z(this,o,"remove",e,t,o,f,p),z(null,t,"sort",e,t,o,f,p),z(this,o,"sort",e,t,o,f,p)):e.nextSibling!==a&&(p=ee(e,l.draggable))>=0&&(z(this,o,"update",e,t,o,f,p),z(this,o,"sort",e,t,o,f,p)),H.active&&(null!=p&&-1!==p||(p=f),z(this,o,"end",e,t,o,f,p),this.save()))),this._nulling()},_nulling:function(){o=e=t=n=a=r=i=s=l=m=y=b=p=d=u=v=g=H.active=null,R.forEach(function(e){e.checked=!0}),R.length=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragover":case"dragenter":e&&(this._onDragOver(t),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.preventDefault()}(t));break;case"mouseover":this._onDrop(t);break;case"selectstart":t.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,r=0,o=n.length,a=this.options;r<o;r++)q(e=n[r],a.draggable,this.el)&&t.push(e.getAttribute(a.dataIdAttr)||$(e));return t},sort:function(e){var t={},n=this.el;this.toArray().forEach(function(e,r){var o=n.children[r];q(o,this.options.draggable,n)&&(t[e]=o)},this),e.forEach(function(e){t[e]&&(n.removeChild(t[e]),n.appendChild(t[e]))})},save:function(){var e=this.options.store;e&&e.set(this)},closest:function(e,t){return q(e,t||this.options.draggable,this.el)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];n[e]=t,"group"===e&&F(n)},destroy:function(){var e=this.el;e[w]=null,W(e,"mousedown",this._onTapStart),W(e,"touchstart",this._onTapStart),W(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(W(e,"dragover",this),W(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),B.splice(B.indexOf(this._onDragOver),1),this._onDrop(),this.el=e=null}},U(T,"touchmove",function(e){H.active&&e.preventDefault()}),H.utils={on:U,off:W,css:X,find:V,is:function(e,t){return!!q(e,t,e)},extend:re,throttle:ne,closest:q,toggleClass:K,clone:oe,index:ee,nextTick:ae,cancelNextTick:ie},H.create=function(e,t){return new H(e,t)},H.version="1.7.0",H})},5:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n=e.Symbol;"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable";return t}},6:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},67:function(e,t){},7:function(e,t,n){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0});var o,a=function(e){return e&&e.__esModule?e:{default:e}}(n(5));o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var i=(0,a.default)(o);t.default=i}).call(this,n(1),n(6)(e))}});